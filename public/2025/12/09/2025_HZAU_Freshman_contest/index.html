<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>åä¸­å†œä¸šå¤§å­¦ç¬¬åäº”å±Šç¨‹åºè®¾è®¡ç«èµ›ï¼ˆæ–°ç”Ÿèµ›ï¼‰æ¸¸è®°åŠéƒ¨åˆ†é¢˜è§£ | Blog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="https://unpkg.com/normalize.css"><link rel="stylesheet" type="text/css" href="https://unpkg.com/purecss/build/pure-min.css"><link rel="stylesheet" type="text/css" href="https://unpkg.com/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="https://unpkg.com/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="https://unpkg.com/jquery/dist/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="https://unpkg.com/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="https://unpkg.com/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="https://unpkg.com/toastr/build/toastr.min.css"><div class="darkmode-toggle">ğŸŒ“</div><script>var prefersDarkMode = window.matchMedia('(prefers-color-scheme: dark)');
var toggle = document.querySelector('.darkmode-toggle');
var html = document.querySelector('html');

html.dataset.dark = localStorage.dark || prefersDarkMode.matches;

toggle.addEventListener('click', () => {
localStorage.dark = !(html.dataset.dark == 'true');
html.dataset.dark = localStorage.dark;
});</script><script src="/js/local-search.js"></script><meta name="generator" content="Hexo 8.1.1"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">åä¸­å†œä¸šå¤§å­¦ç¬¬åäº”å±Šç¨‹åºè®¾è®¡ç«èµ›ï¼ˆæ–°ç”Ÿèµ›ï¼‰æ¸¸è®°åŠéƒ¨åˆ†é¢˜è§£</h1><a id="logo" href="/.">Blog</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> é¦–é¡µ</i></a><a href="/archives/"><i class="fa fa-archive"> å½’æ¡£</i></a><a href="/tags/"><i class="fa fa-tags"> æ ‡ç­¾</i></a><a href="/about/"><i class="fa fa-user"> å…³äº</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">åä¸­å†œä¸šå¤§å­¦ç¬¬åäº”å±Šç¨‹åºè®¾è®¡ç«èµ›ï¼ˆæ–°ç”Ÿèµ›ï¼‰æ¸¸è®°åŠéƒ¨åˆ†é¢˜è§£</h1><div class="post-meta">2025-12-09<span> | </span><span class="category"><a href="/categories/%E9%A2%98%E8%A7%A3/">é¢˜è§£</a><a href="/categories/%E6%B8%B8%E8%AE%B0/">æ¸¸è®°</a></span></div><div class="post-content"><h1 id="åä¸­å†œä¸šå¤§å­¦ç¬¬åäº”å±Šç¨‹åºè®¾è®¡ç«èµ›ï¼ˆæ–°ç”Ÿèµ›ï¼‰æ¸¸è®°åŠéƒ¨åˆ†é¢˜è§£"><a href="#åä¸­å†œä¸šå¤§å­¦ç¬¬åäº”å±Šç¨‹åºè®¾è®¡ç«èµ›ï¼ˆæ–°ç”Ÿèµ›ï¼‰æ¸¸è®°åŠéƒ¨åˆ†é¢˜è§£" class="headerlink" title="åä¸­å†œä¸šå¤§å­¦ç¬¬åäº”å±Šç¨‹åºè®¾è®¡ç«èµ›ï¼ˆæ–°ç”Ÿèµ›ï¼‰æ¸¸è®°åŠéƒ¨åˆ†é¢˜è§£"></a>åä¸­å†œä¸šå¤§å­¦ç¬¬åäº”å±Šç¨‹åºè®¾è®¡ç«èµ›ï¼ˆæ–°ç”Ÿèµ›ï¼‰æ¸¸è®°åŠéƒ¨åˆ†é¢˜è§£</h1><blockquote>
<p>ä»…ä»¥æ­¤è®°å½•æˆ‘çš„ç¬¬ä¸€æ¬¡ç¨‹åºè®¾è®¡çº¿ä¸‹èµ›</p>
</blockquote>
<span id="more"></span>

<h2 id="æ¸¸è®°"><a href="#æ¸¸è®°" class="headerlink" title="æ¸¸è®°"></a>æ¸¸è®°</h2><p>ç¬¬ä¸€æ¬¡çº¿ä¸‹èµ›ï¼Œä¸å‡ºæ„æ–™çš„æ„Ÿè§‰æ™šä¸Šæ²¡ç¡å¥½ï¼Œä½†åˆ°äº†æ¯”èµ›åœºåœ°åå°±æ¯«æ— ç–²æƒ«æ„Ÿè€Œè¨€äº†ã€‚<del>ï¼ˆç‘å¹¸çš„æ–°å“æ˜¯çœŸéš¾å–ï¼‰</del></p>
<p>åˆ°åœºç­¾åˆ°é¢†äº†ä¼´æ‰‹ç¤¼ï¼Œä¸€ä¸ªACMçš„ç¬”è®°æœ¬å’Œä¸€å¼ æ˜ä¿¡ç‰‡ï¼Œè™½ç„¶æœ‰ç‚¹ä¸åŠé¢„æœŸï¼Œä½†ç¬¬ä¸€æ¬¡æ‹¿åˆ°å‘¨è¾¹ç‰©ä»¶è¿˜æ˜¯å¾ˆå…´å¥‹çš„ã€‚åœ¨è¿™é‡Œè¿˜æ˜¯å¾—æ„Ÿè°¢å¿—æ„¿è€…ï¼Œèµ›å‰é¢†çš„å°çº¸æ¡ä¸€ä¸‹å°±å¼„ä¸¢äº†ï¼Œä¸Šé¢çš„å¸å·å¯†ç å¿—æ„¿è€…ä»¬å¾ˆçƒ­æƒ…åœ°å¸®æˆ‘è§£å†³äº†ï¼Œéå¸¸æ„Ÿè°¢ï¼å¦å¤–èµ›å‰ç»Ÿä¸€å‘çš„å°ç†ŠçŒ«devè¿˜æ˜¯å¾ˆå¥½ç”¨çš„ï¼Œé¿å…äº†ç”¨ç”µè„‘è‡ªå¸¦çš„devc++ï¼Œå¥½è¯„ï¼</p>
<p>æ¯”èµ›å¼€å§‹åï¼Œå¾ˆå¹¸è¿åœ°å¿«é€Ÿå‘ç°äº†ç­¾åˆ°é¢˜Lï¼Œæ‹¿äº†ä¸€ä¸ªä¸€è¡€ï¼äº¤å®Œæ˜¾ç¤ºâ€œcorrectâ€çš„æ—¶å€™å‘ç°è‡ªå·±æ˜¯ä¸€è¡€è¿˜æ˜¯éå¸¸å…´å¥‹çš„ï¼ä¹‹åçœ‹äº†çœ¼Dé¢˜ï¼Œå‘ç°è·Ÿçƒ­èº«èµ›çš„é¢˜å·®ä¸å¤šä¸€æ ·ï¼ˆ<del>å…¶å®å¹¶é</del>ï¼‰ï¼Œå†™å®Œwaäº†ä¹‹åï¼Œçœ‹åˆ°æ¦œä¸Šæœ‰ä¸å°‘äººä¹Ÿwaäº†Dï¼Œå°±è§‰å¾—æœ‰ç‚¹ä¸å¯¹åŠ²äº†ï¼Œä»”ç»†çœ‹é¢˜å‘ç°åªèƒ½åˆ é™¤é•¿åº¦å¤§äºä¸€çš„å­—ä¸²ï¼Œæ‰¾äº†ä¸‹è§„å¾‹ååˆäº¤äº†ä¸€å‘ï¼Œwaäº†ä¹‹åå°±æ²¡ç¢°Dé¢˜äº†(èµ›åé¢˜è§£æ˜¾ç¤ºæ˜¯ä¸€é“ææ€–çš„åˆ†ç±»è®¨è®º)ã€‚</p>
<p>æ¥ä¸‹æ¥å€¼å¾—è¯´çš„å°±æ˜¯Cé¢˜ï¼Œèµ›æ—¶çœ‹å‡ºæ¥æ˜¯å•è°ƒæ ˆå¾ˆå…´å¥‹ï¼Œå¿«é€Ÿæ•²å®Œäº¤äº†ä¸€å‘waåï¼Œç”±äºæ²¡è¯»æ¸…é¢˜æ„ï¼Œè‡ªå·±ä¸€ç›´åœ¨é‚£ä¹±æ”¹ï¼Œäº¤äº†æ— æ•°å‘ï¼Œæœ€åååˆ†é’Ÿå®åœ¨æ²¡æ‹›äº†ï¼Œè€Œä¸”æ­¤æ—¶ä¹Ÿå¯¹é¢˜ç›®æ€è€ƒåœ°æ¯”è¾ƒæ·±å…¥ï¼Œå†æŠŠç¬¬ä¸€å‘waå»æ‰ç‰¹åˆ¤åäº¤äº†ä¸€å‘ç«Ÿç„¶Aäº†<del>(çœŸçš„æ„Ÿå—åˆ°äº†æ•‘èµæ„Ÿ)</del>ï¼Œä½†æ˜¯ç™½ç™½åœ¨è¿™é“é¢˜æµªè´¹äº†ä¸€ä¸ªå¤šå°æ—¶ï¼Œèµ›åçœ‹æ¥å¾ˆæœ‰å¯èƒ½å¯ä»¥å†å¼€ä¸€é¢˜ï¼Œä¹Ÿæ˜¯å¾ˆå¯æƒœäº†ã€‚</p>
<p>å¦å¤–ï¼Œèµ›ä¸­å‘çš„åˆé¥­æ˜¯ä¸€ä¸ªâ€œå†·â€çƒ­ç‹—ï¼Œé¸¡è…¿å’Œä¸¤æ ¹é¦™è‚ ï¼Œéš¾åƒã€‚</p>
<p>æœ€åè¿˜æ˜¯å‡­å€Ÿ7é¢˜è·å¾—äº†é‡‘ç‰Œï¼Œä½†ä»¥993çš„ç½šæ—¶åœ¨7é¢˜å°¾ã€‚å°±æœ¬æ¬¡æ¯”èµ›æ¥è¯´ï¼Œä¸€å®šè¦æƒ³æ¸…æ¥šé¢˜ç›®å†äº¤ï¼Œä¸‹æ¬¡ä¸èƒ½ â€œæ ·ä¾‹è¿‡äº†å°±ACâ€ äº†ã€‚</p>
<br>

<h2 id="éƒ¨åˆ†é¢˜è§£"><a href="#éƒ¨åˆ†é¢˜è§£" class="headerlink" title="éƒ¨åˆ†é¢˜è§£"></a>éƒ¨åˆ†é¢˜è§£</h2><h4 id="L-å±±æµ·ä¹‹çº¦"><a href="#L-å±±æµ·ä¹‹çº¦" class="headerlink" title="L - å±±æµ·ä¹‹çº¦"></a>L - å±±æµ·ä¹‹çº¦</h4><h5 id="é¢˜æ„ï¼š"><a href="#é¢˜æ„ï¼š" class="headerlink" title="é¢˜æ„ï¼š"></a>é¢˜æ„ï¼š</h5><p>ç»™å®šä¸¤ä¸ªéè´Ÿæ•´æ•° a ä¸ bï¼Œåˆ¤æ–­å®ƒä»¬çš„å’Œæ˜¯å¦ä¸ºç¥ç§˜æ•°å­— 350234ã€‚</p>
<h5 id="ä»£ç ï¼š"><a href="#ä»£ç ï¼š" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> ld = <span class="type">long</span> <span class="type">double</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> fi first</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> se second</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll MAXN = <span class="number">1e8</span>;</span><br><span class="line"><span class="type">const</span> ld eps = <span class="number">1e-12</span>;</span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ll a, b;</span><br><span class="line">	cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">	<span class="keyword">if</span> (a + b == <span class="number">350234</span>) &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;YES&quot;</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">	&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;NO&quot;</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">	cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	<span class="type">int</span> _ = <span class="number">1</span>;</span><br><span class="line">	cin &gt;&gt; _;</span><br><span class="line">	<span class="keyword">while</span> (_--) &#123;</span><br><span class="line">		<span class="built_in">solve</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="H-å¯¹å†³"><a href="#H-å¯¹å†³" class="headerlink" title="H - å¯¹å†³"></a>H - å¯¹å†³</h4><h5 id="é¢˜æ„ï¼š-1"><a href="#é¢˜æ„ï¼š-1" class="headerlink" title="é¢˜æ„ï¼š"></a>é¢˜æ„ï¼š</h5><p>ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² s ä¸ tï¼Œè®°å­—ä¸²â€œfireâ€å‡ºç°æ¬¡æ•°æ˜¯aï¼Œâ€œwaterâ€å‡ºç°æ¬¡æ•°æ˜¯bï¼Œ â€œwindâ€å‡ºç°æ¬¡æ•°æ˜¯cï¼Œå®šä¹‰å­—ç¬¦ä¸²çš„æƒå€¼ä¸ºa + b * cï¼Œåˆ¤æ–­sçš„æƒå€¼æ˜¯å¦ä¸¥æ ¼å¤§äºtçš„æƒå€¼ã€‚</p>
<h5 id="æ€è·¯ï¼š"><a href="#æ€è·¯ï¼š" class="headerlink" title="æ€è·¯ï¼š"></a>æ€è·¯ï¼š</h5><p>ç®€å•éå†å³å¯ã€‚<br>æ—¶é—´å¤æ‚åº¦ï¼šO(n + m)ã€‚</p>
<h5 id="ä»£ç ï¼š-1"><a href="#ä»£ç ï¼š-1" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> ld = <span class="type">long</span> <span class="type">double</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> fi first</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> se second</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll MAXN = <span class="number">1e8</span>;</span><br><span class="line"><span class="type">const</span> ld eps = <span class="number">1e-12</span>;</span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line">ll n, m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	string a = <span class="string">&quot;fire&quot;</span>;</span><br><span class="line">	string b = <span class="string">&quot;water&quot;</span>;</span><br><span class="line">	string c = <span class="string">&quot;wind&quot;</span>;</span><br><span class="line">	cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">	string s, t;</span><br><span class="line">	cin &gt;&gt; s &gt;&gt; t;</span><br><span class="line">	</span><br><span class="line">	ll cnta = <span class="number">0</span>;</span><br><span class="line">	ll cntb = <span class="number">0</span>;</span><br><span class="line">	ll cntc = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= n - <span class="number">4</span>; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (s[i] == <span class="string">&#x27;f&#x27;</span> &amp;&amp; s[i + <span class="number">1</span>] == <span class="string">&#x27;i&#x27;</span> &amp;&amp; s[i + <span class="number">2</span>] == <span class="string">&#x27;r&#x27;</span> &amp;&amp; s[i + <span class="number">3</span>] == <span class="string">&#x27;e&#x27;</span>) &#123;</span><br><span class="line">			cnta++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (s[i] == <span class="string">&#x27;w&#x27;</span> &amp;&amp; s[i + <span class="number">1</span>] == <span class="string">&#x27;i&#x27;</span> &amp;&amp; s[i + <span class="number">2</span>] == <span class="string">&#x27;n&#x27;</span> &amp;&amp; s[i + <span class="number">3</span>] == <span class="string">&#x27;d&#x27;</span>) &#123;</span><br><span class="line">			cntc++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= n - <span class="number">5</span>; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (s[i] == <span class="string">&#x27;w&#x27;</span> &amp;&amp; s[i + <span class="number">1</span>] == <span class="string">&#x27;a&#x27;</span> &amp;&amp; s[i + <span class="number">2</span>] == <span class="string">&#x27;t&#x27;</span> &amp;&amp; s[i + <span class="number">3</span>] == <span class="string">&#x27;e&#x27;</span> &amp;&amp; s[i + <span class="number">4</span>] == <span class="string">&#x27;r&#x27;</span>) &#123;</span><br><span class="line">			cntb++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	ll cntaa = <span class="number">0</span>;</span><br><span class="line">	ll cntbb = <span class="number">0</span>;</span><br><span class="line">	ll cntcc = <span class="number">0</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= m - <span class="number">4</span>; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (t[i] == <span class="string">&#x27;f&#x27;</span> &amp;&amp; t[i + <span class="number">1</span>] == <span class="string">&#x27;i&#x27;</span> &amp;&amp; t[i + <span class="number">2</span>] == <span class="string">&#x27;r&#x27;</span> &amp;&amp; t[i + <span class="number">3</span>] == <span class="string">&#x27;e&#x27;</span>) &#123;</span><br><span class="line">			cntaa++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (t[i] == <span class="string">&#x27;w&#x27;</span> &amp;&amp; t[i + <span class="number">1</span>] == <span class="string">&#x27;i&#x27;</span> &amp;&amp; t[i + <span class="number">2</span>] == <span class="string">&#x27;n&#x27;</span> &amp;&amp; t[i + <span class="number">3</span>] == <span class="string">&#x27;d&#x27;</span>) &#123;</span><br><span class="line">			cntcc++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= m - <span class="number">5</span>; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (t[i] == <span class="string">&#x27;w&#x27;</span> &amp;&amp; t[i + <span class="number">1</span>] == <span class="string">&#x27;a&#x27;</span> &amp;&amp; t[i + <span class="number">2</span>] == <span class="string">&#x27;t&#x27;</span> &amp;&amp; t[i + <span class="number">3</span>] == <span class="string">&#x27;e&#x27;</span> &amp;&amp; t[i + <span class="number">4</span>] == <span class="string">&#x27;r&#x27;</span>) &#123;</span><br><span class="line">			cntbb++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span> (cnta + cntb * cntc &gt; cntaa + cntbb * cntcc) &#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;YES&quot;</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">	&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;NO&quot;</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">	cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	<span class="type">int</span> _ = <span class="number">1</span>;</span><br><span class="line">	cin &gt;&gt; _;</span><br><span class="line">	<span class="keyword">while</span> (_--) &#123;</span><br><span class="line">		<span class="built_in">solve</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="I-å­¦éœ¸é¢˜"><a href="#I-å­¦éœ¸é¢˜" class="headerlink" title="I - å­¦éœ¸é¢˜"></a>I - å­¦éœ¸é¢˜</h4><h5 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h5><p>ç»™å®šä¸‰ä¸ªç‚¹ A, B, Cï¼Œæ‰¾å‡ºä¸€ä¸ªç‚¹Dä½¿å¾—è¿™ 4 ä¸ªç‚¹å¯ä»¥è¿æˆä¸€ä¸ªå¹³è¡Œå››è¾¹å½¢ã€‚</p>
<h5 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h5><p>ç¡®å®šä¸¤ä¸ªç‚¹ï¼Œæ±‚å‡ºä¸¤ç‚¹é—´xå’Œyåº§æ ‡çš„å˜åŒ–åæ ¹æ®ç¬¬ä¸‰ä¸ªç‚¹æ¨å‡ºç¬¬å››ä¸ªç‚¹çš„ä½ç½®ã€‚<br>æ—¶é—´å¤æ‚åº¦ï¼šO(1)ã€‚</p>
<h5 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> ld = <span class="type">long</span> <span class="type">double</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> fi first</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> se second</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll MAXN = <span class="number">1e8</span>;</span><br><span class="line"><span class="type">const</span> ld eps = <span class="number">1e-12</span>;</span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ll x1, y1, x2, y2, x3, y3;</span><br><span class="line">	cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2 &gt;&gt; x3 &gt;&gt; y3;</span><br><span class="line">	ll tx = x2 - x1;</span><br><span class="line">	ll ty = y2 - y1;</span><br><span class="line">	ll x4 = x3 + tx;</span><br><span class="line">	ll y4 = y3 + ty;</span><br><span class="line">	cout &lt;&lt; x4 &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; y4 &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">	cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	<span class="type">int</span> _ = <span class="number">1</span>;</span><br><span class="line">	cin &gt;&gt; _;</span><br><span class="line">	<span class="keyword">while</span> (_--) &#123;</span><br><span class="line">		<span class="built_in">solve</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="B-çˆ±çš„é­”æ³•"><a href="#B-çˆ±çš„é­”æ³•" class="headerlink" title="B - çˆ±çš„é­”æ³•"></a>B - çˆ±çš„é­”æ³•</h4><h5 id="é¢˜æ„-1"><a href="#é¢˜æ„-1" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h5><p>ç»™å®šä¸€ä¸ªåºåˆ—ï¼Œå¯¹äºåºåˆ—ä¸­çš„æ¯ä¸€ä¸ªæ•°ï¼Œäº¤æ¢è‡³å¤šä¸¤ä¸ªæ•°ä½ï¼Œæœ€å¤§åŒ–æ“ä½œåçš„åºåˆ—å’Œã€‚</p>
<h5 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h5><p>æ•°æ®èŒƒå›´ä¸æ˜¯å¾ˆå¤§ï¼Œç›´æ¥å¯¹æ¯ä¸€ä¸ªæ•°ç®€å•éå†ï¼Œå–æ¯ä¸ªæ•°çš„æœ€å¤§å€¼å³å¯ã€‚<br>æ—¶é—´å¤æ‚åº¦ï¼šO(n)ã€‚</p>
<h5 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> ld = <span class="type">long</span> <span class="type">double</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> fi first</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> se second</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll MAXN = <span class="number">1e8</span>;</span><br><span class="line"><span class="type">const</span> ld eps = <span class="number">1e-12</span>;</span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line">ll n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cin &gt;&gt; n;</span><br><span class="line">	vector &lt;ll&gt; <span class="built_in">v</span>(n);</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">		cin &gt;&gt; v[i];</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">		string s = <span class="built_in">to_string</span>(v[i]);</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; (ll)s.<span class="built_in">size</span>(); k++) &#123;</span><br><span class="line">			ll t = s[k] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">			ll pos = k;</span><br><span class="line">			<span class="keyword">for</span> (ll j = k + <span class="number">1</span>; j &lt; (ll)s.<span class="built_in">size</span>(); j++) &#123;</span><br><span class="line">				ll a = s[j] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">				<span class="keyword">if</span> (a &gt;= t) &#123;</span><br><span class="line">					t = a;</span><br><span class="line">					pos = j;				</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (pos != k &amp;&amp; s[pos] &gt; s[k]) &#123;</span><br><span class="line">				<span class="built_in">swap</span>(s[pos], s[k]);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		v[i] = <span class="built_in">stoll</span>(s);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	ll ans = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">		ans += v[i];</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	cout &lt;&lt; ans &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">	cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	<span class="type">int</span> _ = <span class="number">1</span>;</span><br><span class="line">	cin &gt;&gt; _;</span><br><span class="line">	<span class="keyword">while</span> (_--) &#123;</span><br><span class="line">		<span class="built_in">solve</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="A-çŸ©å½¢æ¸¸æˆ"><a href="#A-çŸ©å½¢æ¸¸æˆ" class="headerlink" title="A - çŸ©å½¢æ¸¸æˆ"></a>A - çŸ©å½¢æ¸¸æˆ</h4><h5 id="é¢˜æ„-2"><a href="#é¢˜æ„-2" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h5><p>ç»™å®šä¸€ä¸ª<strong>å•è°ƒä¸é™</strong>çš„åºåˆ—[b<sub>1</sub>, b<sub>2</sub>, â€¦ b<sub>n</sub>]ä¸ä¸€ä¸ªkè¡Œnåˆ—çš„çŸ©é˜µAã€‚ç­¾åˆ°å“¥ä»çŸ©é˜µçš„ç¬¬ä¸€è¡Œç¬¬ä¸€åˆ—ç§»åŠ¨åˆ°ç¬¬kè¡Œçš„ä»»æ„ä¸€åˆ—ã€‚ç­¾åˆ°å“¥ä½äº(i, j)æ—¶å¯ä»¥ç§»åŠ¨åˆ°(i + 1, j - 1)æˆ–(i + 1, j)æˆ–(i + 1, j + 1)ã€‚ç­¾åˆ°å“¥åªèƒ½ç§»åŠ¨åˆ°å¤§äºç­‰äºè‡ªå·±çš„ä½ç½®ï¼Œä¸”ç§»åŠ¨åç­¾åˆ°å“¥çš„ä½“åŠ›ä¹Ÿä¼šç›¸åº”å¢åŠ ã€‚</p>
<p>æ±‚ç­¾åˆ°å“¥åˆ°è¾¾ç¬¬kè¡Œçš„ä½“åŠ›æœ€å¤§å€¼</p>
<h5 id="æ€è·¯-2"><a href="#æ€è·¯-2" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h5><p>ç”±äºåºåˆ—å•è°ƒä¸é™ï¼Œåªéœ€å°½é‡å¾€å³èµ°å°±è¡Œã€‚å¦å¤–ï¼Œç”±äºkæ˜¯1e9çº§åˆ«ï¼Œè€Œnæ˜¯2e5çº§åˆ«ï¼Œæœ€åå¦‚æœåˆ°æœ€åä¸€åˆ—å¯ä»¥ç›´æ¥é€€å‡ºå•ç‹¬è®¡ç®—ã€‚<br>æ—¶é—´å¤æ‚åº¦ï¼šO(n)ã€‚</p>
<h5 id="ä»£ç -2"><a href="#ä»£ç -2" class="headerlink" title="ä»£ç "></a>ä»£ç </h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> ld = <span class="type">long</span> <span class="type">double</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> fi first</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> se second</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll MAXN = <span class="number">1e8</span>;</span><br><span class="line"><span class="type">const</span> ld eps = <span class="number">1e-12</span>;</span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line">ll k, n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cin &gt;&gt; k &gt;&gt; n;</span><br><span class="line">	vector &lt;ll&gt; <span class="built_in">v</span>(n);</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">		cin &gt;&gt; v[i];</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	ll sum = <span class="number">0</span>;</span><br><span class="line">	ll j = <span class="number">0</span>;</span><br><span class="line">	ll t = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (sum &gt;= v[j + <span class="number">1</span>] &amp;&amp; j &lt; n - <span class="number">1</span>) &#123;</span><br><span class="line">			j++;</span><br><span class="line">		&#125;</span><br><span class="line">		sum += v[j];</span><br><span class="line">		<span class="keyword">if</span> (j == n - <span class="number">1</span>) &#123;</span><br><span class="line">			t = k - i - <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	sum += <span class="built_in">max</span>(<span class="number">0LL</span>, t) * v[n - <span class="number">1</span>];</span><br><span class="line">	cout &lt;&lt; sum &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">	cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	<span class="type">int</span> _ = <span class="number">1</span>;</span><br><span class="line">	cin &gt;&gt; _;</span><br><span class="line">	<span class="keyword">while</span> (_--) &#123;</span><br><span class="line">		<span class="built_in">solve</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="M-ç»ˆæè€ƒéªŒ"><a href="#M-ç»ˆæè€ƒéªŒ" class="headerlink" title="M - ç»ˆæè€ƒéªŒ"></a>M - ç»ˆæè€ƒéªŒ</h4><h5 id="é¢˜æ„-3"><a href="#é¢˜æ„-3" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h5><p>ç»™å®šnä¸ªçŸ³æŸ±é«˜åº¦ï¼Œè€—è´¹ä¸€ç‚¹èƒ½é‡å¯ä»¥ä½¿ä»»æ„ä¸€ä¸ªiè‡³min(i + x - 1, n)åŒºé—´å†…çš„æ‰€æœ‰çŸ³æŸ±å‡é«˜1ç±³ã€‚</p>
<p>æ±‚ä½¿å¾—çŸ³æŸ±çš„é«˜åº¦å•è°ƒä¸é™æ‰€è¦è€—è´¹èƒ½é‡çš„æœ€å°å€¼ã€‚</p>
<h5 id="æ€è·¯-3"><a href="#æ€è·¯-3" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h5><p>è¿™é‡Œç»™å‡ºä¸€ä¸ªå¦ç±»çš„æ€è·¯ã€‚å¯¹äºä»»æ„ä¸€ä¸ªv<sub>i</sub>ï¼Œåœ¨ï¼ˆi - x + 1ï¼Œ iï¼‰è¿™ä¸ªåŒºé—´å†…è‹¥å­˜åœ¨v<sub>y</sub>éœ€è¦å¢åŠ ï¼Œåˆ™v<sub>i</sub>ä¸€å®šä¼šä¸v<sub>y</sub>å¢åŠ ç›¸åŒæ¬¡æ•°ã€‚å› æ­¤ï¼Œåœ¨ç»´æŠ¤å¥½ä¸€ä¸ªå·®åˆ†æ•°ç»„åï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘å¯¹äºä»»æ„ä¸€ä¸ªd<sub>i</sub>ï¼ŒåŠ ä¸Šéœ€è¦åšåŒºé—´åŠ ä¸”åŒºé—´åŠ è§¦åŠä¸åˆ°d<sub>i</sub>çš„åˆæ³•çš„d<sub>i - x</sub>ï¼Œæœ€ååŠ ä¸Šæ‰€æœ‰å°äº0çš„d[i]çš„ç»å¯¹å€¼å³å¯<br>æ—¶é—´å¤æ‚åº¦ï¼šO(n);</p>
<h5 id="ä»£ç -3"><a href="#ä»£ç -3" class="headerlink" title="ä»£ç "></a>ä»£ç </h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> ld = <span class="type">long</span> <span class="type">double</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> fi first</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> se second</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll MAXN = <span class="number">1e8</span>;</span><br><span class="line"><span class="type">const</span> ld eps = <span class="number">1e-12</span>;</span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ll n, x;</span><br><span class="line">	cin &gt;&gt; n &gt;&gt; x;</span><br><span class="line">	vector &lt;ll&gt; <span class="built_in">v</span>(n + <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">	vector &lt;ll&gt; <span class="built_in">d</span>(n + <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">		cin &gt;&gt; v[i];</span><br><span class="line">		d[i] = v[i] - v[i - <span class="number">1</span>];</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = x + <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (d[i - x] &lt; <span class="number">0</span>) &#123;</span><br><span class="line">			d[i] += d[i - x];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	ll ans = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (d[i] &lt; <span class="number">0</span>) &#123;</span><br><span class="line">			ans += <span class="built_in">abs</span>(d[i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	cout &lt;&lt; ans &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">	cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	<span class="type">int</span> _ = <span class="number">1</span>;</span><br><span class="line">	cin &gt;&gt; _;</span><br><span class="line">	<span class="keyword">while</span> (_--) &#123;</span><br><span class="line">		<span class="built_in">solve</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="C-å°Wçš„è®¡æ•°é¢˜"><a href="#C-å°Wçš„è®¡æ•°é¢˜" class="headerlink" title="C - å°Wçš„è®¡æ•°é¢˜"></a>C - å°Wçš„è®¡æ•°é¢˜</h4><h5 id="é¢˜æ„-4"><a href="#é¢˜æ„-4" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h5><p>å¯¹äºç»™å‡ºçš„æ¯ä¸€ä¸ªa<sub>i</sub>ï¼Œæ‰¾åˆ°å…ƒç´ æ•°é‡æœ€å¤šçš„é›†åˆS<sub>x</sub>, å…¶ä¸­å¯¹äºä»»æ„çš„yâˆˆSï¼Œä½¿å¾—[a<sub>min{x,y}</sub>, â€¦, a<sub>max{x,y}</sub>]çš„æœ€å¤§å€¼ä¸ºa<sub>y</sub>ã€‚</p>
<h5 id="æ€è·¯-4"><a href="#æ€è·¯-4" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h5><p>é¢˜æ„å¾ˆå¤æ‚ï¼Œç®€è¦åœ°è¯´ï¼Œè¿™ä¸€é¢˜å®é™…ä¸Šæ˜¯æƒ³è¦æ‰¾åˆ°å¯¹äºæ¯ä¸€ä¸ªa<sub>i</sub>å‘å·¦çš„å•è°ƒé€’å¢åŒºé—´å’Œå‘å³çš„å•è°ƒé€’å¢åŒºé—´çš„é•¿åº¦ä¹‹å’Œã€‚<br>ç”±æ­¤ï¼Œä¸éš¾æƒ³åˆ°å¯ä»¥åˆ©ç”¨å•è°ƒæ ˆæ¥è§£å†³é—®é¢˜ã€‚å¯ä»¥ç»´æŠ¤ä»å‰å¾€åçš„ä¸€ä¸ªå•è°ƒé€’å‡æ ˆå’Œä»åå¾€å‰çš„ç»´æŠ¤ä¸€ä¸ªå•è°ƒé€’å‡æ ˆï¼Œåœ¨æ¯ä¸€ä½åŠ ä¸Šæ ˆçš„å¤§å°ï¼Œé‡å¤ä¸¤éå³æ˜¯æœ€ç»ˆç»“æœã€‚<br>æ—¶é—´å¤æ‚åº¦ï¼šO(n)ã€‚</p>
<h5 id="ä»£ç -4"><a href="#ä»£ç -4" class="headerlink" title="ä»£ç "></a>ä»£ç </h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> ld = <span class="type">long</span> <span class="type">double</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> fi first</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> se second</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll MAXN = <span class="number">1e8</span>;</span><br><span class="line"><span class="type">const</span> ld eps = <span class="number">1e-12</span>;</span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line">ll n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cin &gt;&gt; n;</span><br><span class="line">	vector &lt;ll&gt; <span class="built_in">v</span>(n + <span class="number">1</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">		cin &gt;&gt; v[i];</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	vector &lt;ll&gt; <span class="built_in">ans</span>(n + <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">	stack &lt;ll&gt; stk;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">		<span class="keyword">while</span> (!stk.<span class="built_in">empty</span>() &amp;&amp; v[i] &gt; stk.<span class="built_in">top</span>()) &#123;</span><br><span class="line">			stk.<span class="built_in">pop</span>();</span><br><span class="line">		&#125;</span><br><span class="line">		stk.<span class="built_in">push</span>(v[i]);</span><br><span class="line">		ans[i] += stk.<span class="built_in">size</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	stack &lt;ll&gt; stk1;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = n; i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">		<span class="keyword">while</span> (!stk<span class="number">1.</span><span class="built_in">empty</span>() &amp;&amp; v[i] &gt; stk<span class="number">1.</span><span class="built_in">top</span>()) &#123;</span><br><span class="line">			stk<span class="number">1.</span><span class="built_in">pop</span>();</span><br><span class="line">		&#125;</span><br><span class="line">		stk<span class="number">1.</span><span class="built_in">push</span>(v[i]);</span><br><span class="line">		ans[i] += stk<span class="number">1.</span><span class="built_in">size</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        cout &lt;&lt; ans[i] - <span class="number">1</span> &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">	cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	<span class="type">int</span> _ = <span class="number">1</span>;</span><br><span class="line">	cin &gt;&gt; _;</span><br><span class="line">	<span class="keyword">while</span> (_--) &#123;</span><br><span class="line">		<span class="built_in">solve</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="G-äºŒåˆ†å›¾åˆ¤å®š"><a href="#G-äºŒåˆ†å›¾åˆ¤å®š" class="headerlink" title="G - äºŒåˆ†å›¾åˆ¤å®š"></a>G - äºŒåˆ†å›¾åˆ¤å®š</h4><h5 id="é¢˜æ„-5"><a href="#é¢˜æ„-5" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h5><p>ç»™å®šä¸€ä¸ªåºåˆ—[a<sub>1</sub>, a<sub>2</sub>, â€¦ a<sub>n</sub>]å’Œä¸€ä¸ªæ­£æ•´æ•°k, åœ¨ä¸€å¼ åŒ…å«nä¸ªç‚¹çš„å›¾ä¸Šï¼Œç¬¬iä¸ªç‚¹çš„æƒå€¼ä¸ºiï¼Œå¯¹äºåˆæ³•çš„ä»»æ„ä¸¤ç‚¹iï¼Œjï¼Œè‹¥ |a<sub>i</sub> - a<sub>j</sub>| &gt; kï¼Œå°±åœ¨iä¸jä¸¤ç‚¹ä¹‹é—´è¿æ¥ä¸€æ¡æ— å‘è¾¹ã€‚</p>
<p>æ±‚å‡ºæœ€å°çš„éè´Ÿæ•´æ•°kï¼Œä½¿å¾—æŒ‰ç…§ä¸Šè¿°æ–¹æ³•ç”Ÿæˆçš„å›¾æ˜¯äºŒåˆ†å›¾ã€‚</p>
<h5 id="æ€è·¯-5"><a href="#æ€è·¯-5" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h5><p>è¯»å®Œé¢˜åä¸éš¾å‘ç°ï¼Œè¯¥é¢˜çš„ç›®çš„æ˜¯åœ¨ç»™å®šçš„a<sub>n</sub>åºåˆ—ä¸­ï¼Œå°†å…¶åˆ†ä¸ºä¸¤ä¸ªé›†åˆï¼Œå¹¶æœ€å°åŒ–ä¸¤ä¸ªé›†åˆçš„æå·®çš„æœ€å¤§å€¼ã€‚</p>
<p>ä¸éš¾æƒ³åˆ°å¯ä»¥åˆ©ç”¨äºŒåˆ†ç­”æ¡ˆçš„æ–¹æ³•æ¥è§£å†³è¿™é“é¢˜, å¯ä»¥å…ˆå¯¹a<sub>n</sub>åºåˆ—è¿›è¡Œæ’åºï¼Œå†ä»¥ç­”æ¡ˆè¿›è¡Œä»å‰åˆ°åå’Œä»ååˆ°å‰çš„checkï¼Œæœ€åè‹¥r &lt;&#x3D; l + 1åˆ™è¯´æ˜checkæˆåŠŸã€‚<br>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)ã€‚</p>
<h5 id="ä»£ç -5"><a href="#ä»£ç -5" class="headerlink" title="ä»£ç "></a>ä»£ç </h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> ld = <span class="type">long</span> <span class="type">double</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> fi first</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> se second</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll MAXN = <span class="number">1e8</span>;</span><br><span class="line"><span class="type">const</span> ld eps = <span class="number">1e-12</span>;</span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">998244353</span>;</span><br><span class="line"></span><br><span class="line">ll n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    vector &lt;ll&gt; <span class="built_in">v</span>(n + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        cin &gt;&gt; v[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">sort</span>(v.<span class="built_in">begin</span>() + <span class="number">1</span>, v.<span class="built_in">end</span>());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">auto</span> check = [&amp;] (ll md) -&gt; <span class="type">bool</span> &#123;</span><br><span class="line">        ll l = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (v[i] - v[<span class="number">1</span>] &lt;= md) &#123;</span><br><span class="line">                l = i;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125; </span><br><span class="line">        &#125;</span><br><span class="line">        ll r = n;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">if</span> (v[n] - v[i] &lt;= md) &#123;</span><br><span class="line">                r = i;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> r &lt;= l + <span class="number">1</span>;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    ll l = <span class="number">0</span>, r = v[n]; </span><br><span class="line">    <span class="keyword">while</span> (l &lt;= r) &#123;</span><br><span class="line">        ll mid = l + ((r - l) &gt;&gt; <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">check</span>(mid)) &#123;</span><br><span class="line">            r = mid - <span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            l = mid + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; l &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">	cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	<span class="type">int</span> _ = <span class="number">1</span>;</span><br><span class="line">	cin &gt;&gt; _;</span><br><span class="line">	<span class="keyword">while</span> (_--) &#123;</span><br><span class="line">		<span class="built_in">solve</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="J-é±¼éª¨æŒ–çŸ¿æ³•"><a href="#J-é±¼éª¨æŒ–çŸ¿æ³•" class="headerlink" title="J - é±¼éª¨æŒ–çŸ¿æ³•"></a>J - é±¼éª¨æŒ–çŸ¿æ³•</h4><h5 id="é¢˜æ„-6"><a href="#é¢˜æ„-6" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h5><p>ç»™å®šä¸€ä¸ªnè¡Œmåˆ—çš„äºŒä½ç½‘æ ¼ï¼Œæ¯ä¸ªæ ¼å­çš„æ•°å­—ä»£è¡¨å½“å‰æ ¼çš„çŸ¿ç‰©ä»·å€¼ã€‚é¦–å…ˆé’’é’’ä¼šé€‰æ‹©ç¬¬iè¡Œä½œä¸ºä¸»çŸ¿é“ï¼Œå¹¶å°†ä¸»çŸ¿é“ä¸Šæ–¹å’Œä¸‹æ–¹çš„çŸ¿é“çš„æ‰€æœ‰çŸ¿ç‰©å…¨éƒ¨é‡‡é›†ã€‚å†ä»¥ä¸»çŸ¿é“ä¸ºä¸­å¿ƒï¼Œåœ¨æ¯ä¸ªæ»¡è¶³j &#x3D;&#x3D;&#x3D; 2 (mod 3)çš„jåˆ—ï¼ˆåˆ†çŸ¿é“ï¼‰åˆ†åˆ«å‘ä¸Šå‘ä¸‹æŒ–ï¼Œåœ¨æŒ–åˆ°ç¬¬ä¸€ä¸ªçŸ¿ç‰©æ—¶åœæ­¢æŒ–æ˜ã€‚</p>
<p>æŒ–æ˜è§„åˆ™ï¼š</p>
<ul>
<li>å¦‚æœåœ¨ä¸€æ¬¡æŒ–æ˜æ“ä½œä¸­å‘ç°å¤šä¸ªçŸ¿ç‰©ï¼Œé’’é’’ä¼šå°†è¿™äº›çŸ¿ç‰©åŒæ—¶æŒ–æ˜ã€‚</li>
<li>å¦‚æœåœ¨å½“å‰åˆ†çŸ¿é“ä¸ŠæŒ–æ˜åˆ°çŸ¿ç‰©ï¼Œé’’é’’ä¼šç«‹å³åœæ­¢æŒ–æ˜</li>
<li>ä¸Šä¸‹åˆ†çŸ¿é“çš„æŒ–æ˜æƒ…å†µç›¸äº’ç‹¬ç«‹ï¼Œå³ï¼šä¸Šåˆ†çŸ¿é“çš„æŒ–æ˜æƒ…å†µä¸ä¼šå½±å“åˆ°ä¸‹åˆ†çŸ¿é“çš„æŒ–æ˜æƒ…å†µã€‚</li>
</ul>
<p>æ±‚åœ¨ä»¥ç¬¬iè¡Œä¸ºä¸»çŸ¿é“æ—¶(1 &lt;&#x3D; i &lt;&#x3D; n)ï¼Œ æ‰€èƒ½æŒ–åˆ°çš„çŸ¿ç‰©çš„æ€»ä»·å€¼ã€‚</p>
<h5 id="æ€è·¯-6"><a href="#æ€è·¯-6" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h5><p>é¦–å…ˆï¼Œå¯¹äºæ¯ä¸€ä¸ªä¸»çŸ¿é“æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥é¢„å¤„ç†æ¯ä¸€ä¸ªä¸»çŸ¿é“çš„ç»“æœã€‚è€Œå¯¹äºæ¯ä¸€ä¸ªåˆ†çŸ¿é“æ¥è¯´ï¼Œå¯¹äºå‘ä¸Šçš„åˆ†çŸ¿é“ï¼Œæˆ‘ä»¬å¯ä»¥é¢„å¤„ç†å‡ºåˆ°æ¯ä¸€æ ¼æ—¶æ‰€èƒ½æŒ–åˆ°çš„çŸ¿ç‰©ä»·å€¼ï¼Œå³sup[i][j] &#x3D; v[i][j] + v[i - 1][j] + v[i][j - 1] + v[i][j + 1]ã€‚è‹¥sup[i][j] !&#x3D; 0ï¼Œåˆ™up[i][j] &#x3D; sup[i][j]ï¼Œå¦åˆ™up[i][j] &#x3D; up[i - 1][j]ã€‚å‘ä¸‹çš„åˆ†çŸ¿é“ä¹Ÿæ˜¯ç±»ä¼¼çš„ã€‚åœ¨æ¯ä¸ªiè¡Œï¼Œåªéœ€è¦åŠ ä¸Šæ‰€æœ‰åˆæ³•çš„up[i - 2][j]å’Œdw[i + 2][j]å³å¯ã€‚<br>æ—¶é—´å¤æ‚åº¦ï¼šO(n * m)ã€‚</p>
<h5 id="ä»£ç -6"><a href="#ä»£ç -6" class="headerlink" title="ä»£ç "></a>ä»£ç </h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> ld = <span class="type">long</span> <span class="type">double</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> fi first</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> se second</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll MAXN = <span class="number">1e8</span>;</span><br><span class="line"><span class="type">const</span> ld eps = <span class="number">1e-12</span>;</span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line">ll n, m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    vector &lt;vector &lt;ll&gt; &gt; <span class="built_in">v</span>(n + <span class="number">3</span>, vector &lt;ll&gt; (m + <span class="number">3</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++) &#123;</span><br><span class="line">            cin &gt;&gt; v[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    vector &lt;ll&gt; <span class="built_in">ss</span>(n + <span class="number">2</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++) &#123;</span><br><span class="line">            ss[i] += v[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    vector &lt;ll&gt; <span class="built_in">s</span>(n + <span class="number">2</span>, <span class="number">0</span>);<span class="comment">//ä¸»çŸ¿é“</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        s[i] = ss[i - <span class="number">1</span>] + ss[i] + ss[i + <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    vector &lt;vector &lt;ll&gt; &gt; <span class="built_in">sa</span>(n + <span class="number">2</span>, vector &lt;ll&gt; (m + <span class="number">2</span>));<span class="comment">//ä¸Šéƒ¨åˆ†çŸ¿é“</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++) &#123;</span><br><span class="line">            sa[i][j] = v[i][j] + v[i - <span class="number">1</span>][j] + v[i][j - <span class="number">1</span>] + v[i][j + <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    vector &lt;vector &lt;ll&gt; &gt; <span class="built_in">up</span>(n + <span class="number">2</span>, vector &lt;ll&gt; (m + <span class="number">2</span>)); </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (sa[i][j] != <span class="number">0</span>) &#123;</span><br><span class="line">                up[i][j] = sa[i][j];</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                up[i][j] = up[i - <span class="number">1</span>][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    vector &lt;vector &lt;ll&gt; &gt; <span class="built_in">sb</span>(n + <span class="number">2</span>, vector &lt;ll&gt; (m + <span class="number">2</span>));<span class="comment">//ä¸‹éƒ¨åˆ†çŸ¿é“</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++) &#123;</span><br><span class="line">            sb[i][j] = v[i][j] + v[i + <span class="number">1</span>][j] + v[i][j - <span class="number">1</span>] + v[i][j + <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    vector &lt;vector &lt;ll&gt; &gt; <span class="built_in">dw</span>(n + <span class="number">2</span>, vector &lt;ll&gt; (m + <span class="number">2</span>)); </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = n; i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">if</span> (sb[i][j] != <span class="number">0</span>) &#123;</span><br><span class="line">                dw[i][j] = sb[i][j];</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                dw[i][j] = dw[i + <span class="number">1</span>][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    vector &lt;ll&gt; <span class="built_in">ans</span>(n + <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">1</span>) &#123;</span><br><span class="line">            ans[i] += s[i];</span><br><span class="line">            <span class="keyword">if</span> (n &lt;= <span class="number">2</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">2</span>; j &lt;= m; j += <span class="number">3</span>) &#123;</span><br><span class="line">                ans[i] += dw[i + <span class="number">2</span>][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (i == n) &#123;</span><br><span class="line">            ans[i] += s[n];</span><br><span class="line">            <span class="keyword">if</span> (n &lt;= <span class="number">2</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">2</span>; j &lt;= m; j += <span class="number">3</span>) &#123;</span><br><span class="line">                ans[i] += up[i - <span class="number">2</span>][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            ans[i] += s[i];</span><br><span class="line">            <span class="keyword">if</span> (n &lt;= <span class="number">2</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">2</span>; j &lt;= m; j += <span class="number">3</span>) &#123;</span><br><span class="line">                ans[i] += up[i - <span class="number">2</span>][j] + dw[i + <span class="number">2</span>][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        cout &lt;&lt; ans[i] &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">	cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	<span class="type">int</span> _ = <span class="number">1</span>;</span><br><span class="line">	cin &gt;&gt; _;</span><br><span class="line">	<span class="keyword">while</span> (_--) &#123;</span><br><span class="line">		<span class="built_in">solve</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="K-å¤§å¸ˆå’Œä»–çš„é¢†åŸŸ"><a href="#K-å¤§å¸ˆå’Œä»–çš„é¢†åŸŸ" class="headerlink" title="K - å¤§å¸ˆå’Œä»–çš„é¢†åŸŸ"></a>K - å¤§å¸ˆå’Œä»–çš„é¢†åŸŸ</h4><h5 id="é¢˜æ„-7"><a href="#é¢˜æ„-7" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h5><p>ç»™å®šä¸€ä¸ªæ•°ç»„aå’Œå€¼kï¼Œæ±‚æœ‰å¤šå°‘ä¸ªåŒºé—´æ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š</p>
<ul>
<li>åŒºé—´ä¸­å¿…é¡»åŒ…å«å€¼k</li>
<li>åŒºé—´ä¸­å¤§äºkå€¼çš„æ•°é‡å¿…é¡»ç­‰äºå°äºkå€¼çš„æ•°é‡</li>
</ul>
<h5 id="æ€è·¯-7"><a href="#æ€è·¯-7" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h5><p>æˆ‘ä»¬å¯ä»¥ä»¤å¤§äºkçš„å€¼ä¸º1ï¼Œå°äºkçš„å€¼ä¸º-1ï¼Œç­‰äºkçš„å€¼ä¸º0ã€‚ç»´æŠ¤ä¸€ä¸ªå‰ç¼€å’Œæ•°ç»„ã€‚å¯¹äºæ¯ä¸€ä¸ªçš„ä¸‹æ ‡ï¼Œéƒ½å¾€å‰äºŒåˆ†æŸ¥æ‰¾ç›¸åŒå€¼ä¸”åŒ…å«å€¼kçš„æœ€å¤§å·¦è¾¹ç•Œå³å¯ã€‚<br>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)ã€‚</p>
<h5 id="ä»£ç -7"><a href="#ä»£ç -7" class="headerlink" title="ä»£ç "></a>ä»£ç </h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> ld = <span class="type">long</span> <span class="type">double</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> fi first</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> se second</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll MAXN = <span class="number">1e8</span>;</span><br><span class="line"><span class="type">const</span> ld eps = <span class="number">1e-12</span>;</span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">998244353</span>;</span><br><span class="line"></span><br><span class="line">ll n, k;</span><br><span class="line">string s;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cin &gt;&gt; n &gt;&gt; k;</span><br><span class="line">    vector &lt;ll&gt; <span class="built_in">v</span>(n + <span class="number">1</span>);   </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        cin &gt;&gt; v[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    vector &lt;ll&gt; <span class="built_in">s</span>(n + <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        s[i] = s[i - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (v[i] &gt; k) &#123;</span><br><span class="line">            s[i]++;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (v[i] &lt; k) &#123;</span><br><span class="line">            s[i]--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    vector &lt;vector&lt;ll&gt; &gt; <span class="built_in">pos</span>(<span class="number">2</span> * n + <span class="number">2</span>);</span><br><span class="line">    pos[n].<span class="built_in">push_back</span>(<span class="number">0</span>);</span><br><span class="line">    ll ans = <span class="number">0</span>; </span><br><span class="line">    ll exist = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        pos[s[i] + n].<span class="built_in">push_back</span>(i);</span><br><span class="line">        <span class="keyword">if</span> (v[i] == k) &#123;</span><br><span class="line">            exist = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (exist != <span class="number">-1</span>) &#123;</span><br><span class="line">            ans += <span class="built_in">lower_bound</span>(pos[s[i] + n].<span class="built_in">begin</span>(), pos[s[i] + n].<span class="built_in">end</span>(), exist) - pos[s[i] + n].<span class="built_in">begin</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">	cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	<span class="type">int</span> _ = <span class="number">1</span>;</span><br><span class="line">	cin &gt;&gt; _;</span><br><span class="line">	<span class="keyword">while</span> (_--) &#123;</span><br><span class="line">		<span class="built_in">solve</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</div><div class="tags"><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%B8%B8%E8%AE%B0/" rel="tag">æ¸¸è®°</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%A2%98%E8%A7%A3/" rel="tag">é¢˜è§£</a></li></ul></div><div class="post-nav"><a class="pre" href="/2025/12/15/2025_WUST_CNB/">2025èœé¸Ÿæ¯éƒ¨åˆ†é¢˜è§£</a></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script><div id="gitalk-container"></div><script>var gitalk = new Gitalk({
  clientID: 'Ov23li7wihitV6LQvFrz',
  clientSecret: 'a64e2f76e7c041753adbf2752b047db1e89065d3',
  repo: 'gittalk_comment',
  owner: 'everlastingQAQ',
  admin: ['everlastingQAQ'],
  id: window.location.pathname,
  distractionFreeMode: false,
  createIssueManually: false
});
gitalk.render('gitalk-container');</script></div></div></div><div class="pure-u-1 pure-u-md-1-4"><div id="sidebar"><div class="widget"><div class="author-info"><a class="info-avatar" href="/about/" title="å…³äº"><img class="nofancybox" src="/img/avatar.jpg"/></a><p>everlasting</p></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> åˆ†ç±»</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%B8%B8%E8%AE%B0/">æ¸¸è®°</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AD%94%E6%A1%88/">ç­”æ¡ˆ</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%A2%98%E8%A7%A3/">é¢˜è§£</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> æ ‡ç­¾</i></div><div class="tagcloud"><a href="/tags/%E9%A2%98%E8%A7%A3/" style="font-size: 15px;">é¢˜è§£</a> <a href="/tags/%E6%B8%B8%E8%AE%B0/" style="font-size: 15px;">æ¸¸è®°</a> <a href="/tags/%E7%AD%94%E6%A1%88/" style="font-size: 15px;">ç­”æ¡ˆ</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> æœ€è¿‘æ–‡ç« </i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2026/01/07/C_homework_part2/">Cè¯­è¨€ä½œä¸šç­”æ¡ˆ(ä¸‹)</a></li><li class="post-list-item"><a class="post-list-link" href="/2026/01/07/C_homework_part1/">Cè¯­è¨€ä½œä¸šç­”æ¡ˆ(ä¸Š)</a></li><li class="post-list-item"><a class="post-list-link" href="/2025/12/22/2025-Wuhan-Freshman-League/">2025æ­¦æ±‰æ–°ç”Ÿèµ›éƒ¨åˆ†é¢˜è§£åŠæ¸¸è®°</a></li><li class="post-list-item"><a class="post-list-link" href="/2025/12/15/2025_WUST_CNB/">2025èœé¸Ÿæ¯éƒ¨åˆ†é¢˜è§£</a></li><li class="post-list-item"><a class="post-list-link" href="/2025/12/09/2025_HZAU_Freshman_contest/">åä¸­å†œä¸šå¤§å­¦ç¬¬åäº”å±Šç¨‹åºè®¾è®¡ç«èµ›ï¼ˆæ–°ç”Ÿèµ›ï¼‰æ¸¸è®°åŠéƒ¨åˆ†é¢˜è§£</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div class="sidebar-search" id="site_search"><input class="search-input" id="local-search-input" type="text" name="q" placeholder="æœç´¢æ–‡ç« ..."/><div class="search-result-box" id="local-search-result"></div></div><div id="footer">Copyright Â© 2026 <a href="/." rel="nofollow">Blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="https://unpkg.com/@fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0" async></script><link rel="stylesheet" type="text/css" href="https://unpkg.com/@fancyapps/fancybox/dist/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="å¤åˆ¶æˆåŠŸï¼"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="/css/external.css?v=1.0.0"><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
  });
</script><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML" async></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>